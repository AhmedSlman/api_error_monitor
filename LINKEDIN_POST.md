# ğŸ“¦ API Error Monitor - Ø­Ø²Ù…Ø© Flutter/Dart Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø£Ø®Ø·Ø§Ø¡ API ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹

## ğŸ¯ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø§Ù„ØªÙŠ Ù†Ø­Ù„Ù‡Ø§

Ù‡Ù„ ÙˆØ§Ø¬Ù‡Øª Ù…Ø´ÙƒÙ„Ø© Ø¹Ù†Ø¯Ù…Ø§ ÙŠØªØºÙŠØ± Ù†ÙˆØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ù€ Backend ÙØ¬Ø£Ø©ØŸ Ù…Ø«Ù„Ø§Ù‹:

- Ø§Ù„Ù€ API ÙƒØ§Ù† ÙŠØ±Ø³Ù„ `price` ÙƒÙ€ `double` ÙØ¬Ø£Ø© Ø£ØµØ¨Ø­ `String`
- Ø£Ùˆ `title` ÙƒØ§Ù† `String` ÙØ¬Ø£Ø© Ø£ØµØ¨Ø­ `int`
- Ø£Ùˆ Ù…ÙØ§ØªÙŠØ­ Ù…Ù‡Ù…Ø© Ø§Ø®ØªÙØª Ù…Ù† Ø§Ù„Ù€ Response

Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ ØªØ³Ø¨Ø¨ **Type Errors** ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØªØ¬Ø¹Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙŠÙˆØ§Ø¬Ù‡ÙˆÙ† Ø£Ø®Ø·Ø§Ø¡ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹Ø©! ğŸ˜±

## âœ¨ Ø§Ù„Ø­Ù„: API Error Monitor

Ø­Ø²Ù…Ø© Flutter/Dart ØªÙ„Ù‚Ø§Ø¦ÙŠØ© ØªØ±Ø§Ù‚Ø¨ ÙˆØªÙƒØªØ´Ù Ø£Ø®Ø·Ø§Ø¡ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù€ API ÙˆØªÙ‚Ø§Ø±ÙŠØ±Ù‡Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù„Ù‰ Discord Ù…Ø¹ ØªÙØ§ØµÙŠÙ„ ÙƒØ§Ù…Ù„Ø©!

---

## ğŸš€ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

### 1. ğŸ” Ø§ÙƒØªØ´Ø§Ù ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø£Ø®Ø·Ø§Ø¡

- ÙŠØ±Ø§Ù‚Ø¨ Ø¬Ù…ÙŠØ¹ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù€ API ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
- ÙŠÙƒØªØ´Ù Ø£Ø®Ø·Ø§Ø¡ Type Mismatch (Ù…Ø«Ù„: `String` Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† `int`)
- ÙŠÙƒØªØ´Ù Ø§Ù„Ù…ÙØ§ØªÙŠØ­ Ø§Ù„Ù…ÙÙ‚ÙˆØ¯Ø© Ù…Ù† Ø§Ù„Ù€ JSON Response
- ÙŠØ­Ø¯Ø¯ Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ù…Ø³Ø¨Ø¨ Ù„Ù„Ù…Ø´ÙƒÙ„Ø© Ø¨Ø¯Ù‚Ø©

### 2. ğŸ“± ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Discord

- ÙŠØ±Ø³Ù„ ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù„Ù‰ Discord Webhook
- ØªÙ‚Ø§Ø±ÙŠØ± Ù…Ù†Ø¸Ù…Ø© ÙˆÙˆØ§Ø¶Ø­Ø© Ù…Ø¹ ØªÙØ§ØµÙŠÙ„ ÙƒØ§Ù…Ù„Ø©:
  - Ø§Ø³Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
  - Ø§Ù„Ù€ Endpoint Ø§Ù„Ù…Ø³Ø¨Ø¨ Ù„Ù„Ø®Ø·Ø£
  - Ø§Ù„Ù…ÙØªØ§Ø­ (Key) Ø§Ù„Ù…Ø³Ø¨Ø¨ Ù„Ù„Ù…Ø´ÙƒÙ„Ø©
  - Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ (Expected Type)
  - Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ù…Ø³ØªÙ„Ù… (Received Type)
  - Timestamp
  - ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø®Ø·Ø£

### 3. ğŸ’¾ ØªØ³Ø¬ÙŠÙ„ Ù…Ø­Ù„ÙŠ

- ÙŠØ­ÙØ¸ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ù…Ø­Ù„ÙŠØ§Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ù‡Ø§Ø²
- ÙŠØ¹Ù…Ù„ Ø­ØªÙ‰ Ø¨Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª
- ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ù„Ø§Ø­Ù‚Ø§Ù‹

### 4. ğŸ”„ Ø¢Ù„ÙŠØ© Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©

- Ø¥Ø°Ø§ ÙØ´Ù„ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ù„Ù„Ù€ DiscordØŒ ÙŠØ­ÙØ¸Ù‡ ÙÙŠ Queue
- ÙŠØ¹ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ ØªÙˆÙØ± Ø§Ù„Ø§ØªØµØ§Ù„
- ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª ÙˆØ§Ù„ÙˆÙ‚Øª Ø¨ÙŠÙ†Ù‡Ø§

### 5. ğŸ› ï¸ Ø¯Ø¹Ù… Ù…ØªØ¹Ø¯Ø¯

- **Dio**: Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù…Ø¹ Interceptor Ù…Ø¯Ù…Ø¬
- **HTTP Package**: Ø¯Ø¹Ù… Ù…Ø¹ Wrapper Class
- **Manual Capture**: ÙŠÙ…ÙƒÙ† Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙŠØ¯ÙˆÙŠØ§Ù‹

### 6. ğŸ›ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©

- Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Debug Mode
- ØªØ®ØµÙŠØµ Ù…Ø¬Ù„Ø¯ Ø§Ù„ØªØ³Ø¬ÙŠÙ„
- ØªÙØ¹ÙŠÙ„/ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ø¬Ø©

---

## ğŸ“¦ Ø§Ù„ØªØ«Ø¨ÙŠØª

### 1. Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ø²Ù…Ø©

```yaml
# pubspec.yaml
dependencies:
  api_error_monitor: ^0.0.2
```

### 2. ØªØ«Ø¨ÙŠØª Ø§Ù„Ø­Ø²Ù…Ø©

```bash
flutter pub get
```

---

## ğŸ“ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

### Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 1: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹ Dio (Ø§Ù„Ø£Ø³Ù‡Ù„ ÙˆØ§Ù„Ø£ÙƒØ«Ø± Ø´ÙŠÙˆØ¹Ø§Ù‹)

#### Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¥Ù†Ø´Ø§Ø¡ ApiErrorMonitor

```dart
import 'package:api_error_monitor/api_error_monitor.dart';
import 'package:dio/dio.dart';

// Ø¥Ù†Ø´Ø§Ø¡ ApiErrorMonitor Ù…Ø¹ Discord Webhook
final errorMonitor = ApiErrorMonitor(
  appName: "MyApp",
  discordWebhookUrl: "https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_WEBHOOK_TOKEN",
  enableInDebugMode: false, // ØªØ¹Ø·ÙŠÙ„ ÙÙŠ Debug Mode (Ø§ÙØªØ±Ø§Ø¶ÙŠ)
  enableLocalLogging: true,  // ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø­Ù„ÙŠ
);
```

#### Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø¥Ø¶Ø§ÙØ© Interceptor Ù„Ù„Ù€ Dio

```dart
final dio = Dio(
  BaseOptions(
    baseUrl: 'https://api.example.com',
    connectTimeout: const Duration(seconds: 10),
    receiveTimeout: const Duration(seconds: 10),
  ),
);

// Ø¥Ø¶Ø§ÙØ© Error Monitoring Interceptor
dio.addApiErrorMonitoring(errorMonitor: errorMonitor);
```

#### Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø§Ø³ØªØ®Ø¯Ø§Ù… Dio Ø¨Ø´ÙƒÙ„ Ø¹Ø§Ø¯ÙŠ

```dart
// Ø¹Ù…Ù„ Request Ø¹Ø§Ø¯ÙŠ - Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø³ØªÙÙ„ØªÙ‚Ø· ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹!
try {
  final response = await dio.get('/products');
  final products = (response.data as List)
      .map((json) => ProductModel.fromJson(json))
      .toList();

  // Ø¥Ø°Ø§ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ fromJsonØŒ Ø³ÙŠÙÙ„ØªÙ‚Ø· ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹!
} catch (e) {
  // ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø®Ø·Ø£ Ù‡Ù†Ø§ Ø£ÙŠØ¶Ø§Ù‹
}
```

**Ù…Ø«Ø§Ù„ ÙƒØ§Ù…Ù„:**

```dart
import 'package:flutter/material.dart';
import 'package:dio/dio.dart';
import 'package:api_error_monitor/api_error_monitor.dart';

class ProductService {
  late final Dio dio;
  late final ApiErrorMonitor errorMonitor;

  ProductService() {
    // ØªÙ‡ÙŠØ¦Ø© Error Monitor
    errorMonitor = ApiErrorMonitor(
      appName: "E-Commerce App",
      discordWebhookUrl: "YOUR_DISCORD_WEBHOOK_URL",
      enableLocalLogging: true,
    );

    // ØªÙ‡ÙŠØ¦Ø© Dio
    dio = Dio(BaseOptions(
      baseUrl: 'https://fakestoreapi.com',
    ));

    // Ø¥Ø¶Ø§ÙØ© Error Monitoring
    dio.addApiErrorMonitoring(errorMonitor: errorMonitor);
  }

  Future<List<Product>> getProducts() async {
    final response = await dio.get('/products');
    return (response.data as List)
        .map((json) => Product.fromJson(json))
        .toList();
    // Ø£ÙŠ Ø®Ø·Ø£ ÙÙŠ fromJson Ø³ÙŠÙÙ„ØªÙ‚Ø· ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹!
  }
}
```

---

### Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 2: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹ HTTP Package

```dart
import 'package:api_error_monitor/api_error_monitor.dart';
import 'package:http/http.dart' as http;

// Ø¥Ù†Ø´Ø§Ø¡ Error Monitor
final errorMonitor = ApiErrorMonitor(
  appName: "MyApp",
  discordWebhookUrl: "YOUR_DISCORD_WEBHOOK_URL",
);

// Ø¥Ù†Ø´Ø§Ø¡ ApiErrorHttpClient
final httpClient = ApiErrorHttpClient(
  errorMonitor: errorMonitor,
);

// Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ Ù…Ø¹ fromJsonCallback
final response = await httpClient.get(
  Uri.parse('https://api.example.com/products'),
  fromJsonCallback: (data) {
    // Ø¥Ø°Ø§ Ø­Ø¯Ø« Ø®Ø·Ø£ Ù‡Ù†Ø§ØŒ Ø³ÙŠÙÙ„ØªÙ‚Ø· ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹!
    return ProductModel.fromJson(data);
  },
);
```

---

### Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 3: Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙŠØ¯ÙˆÙŠØ§Ù‹

```dart
try {
  final model = MyModel.fromJson(response.data);
} catch (e, stackTrace) {
  // Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„Ø®Ø·Ø£ ÙŠØ¯ÙˆÙŠØ§Ù‹ Ù…Ø¹ ØªÙØ§ØµÙŠÙ„ ÙƒØ§Ù…Ù„Ø©
  errorMonitor.capture(
    e,
    stackTrace: stackTrace,
    endpoint: "/api/products",
    key: "price",              // Ø§Ø®ØªÙŠØ§Ø±ÙŠ: ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ù…Ø³Ø¨Ø¨
    expectedType: "double",    // Ø§Ø®ØªÙŠØ§Ø±ÙŠ: ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹
    receivedType: "String",    // Ø§Ø®ØªÙŠØ§Ø±ÙŠ: ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ù…Ø³ØªÙ„Ù…
    requestData: {"id": 123},  // Ø§Ø®ØªÙŠØ§Ø±ÙŠ: Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø¨
    responseData: response.data, // Ø§Ø®ØªÙŠØ§Ø±ÙŠ: Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©
  );
}
```

---

## âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©

### Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ApiErrorMonitor

```dart
final errorMonitor = ApiErrorMonitor(
  appName: "MyApp",                    // Ù…Ø·Ù„ÙˆØ¨: Ø§Ø³Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
  discordWebhookUrl: "https://...",     // Ø§Ø®ØªÙŠØ§Ø±ÙŠ: Discord Webhook URL
  enableInDebugMode: false,             // Ø§ÙØªØ±Ø§Ø¶ÙŠ: false (Ù…Ø¹Ø·Ù„ ÙÙŠ Debug)
  enableLocalLogging: true,             // Ø§ÙØªØ±Ø§Ø¶ÙŠ: true
  customLogDirectory: "/path/to/logs",  // Ø§Ø®ØªÙŠØ§Ø±ÙŠ: Ù…Ø¬Ù„Ø¯ Ù…Ø®ØµØµ
  maxRetries: 3,                        // Ø§ÙØªØ±Ø§Ø¶ÙŠ: 3 Ù…Ø­Ø§ÙˆÙ„Ø§Øª
  retryDelay: Duration(seconds: 5),      // Ø§ÙØªØ±Ø§Ø¶ÙŠ: 5 Ø«ÙˆØ§Ù†ÙŠ
  enabled: true,                        // Ø§ÙØªØ±Ø§Ø¶ÙŠ: true
);
```

### Ø§Ø³ØªØ®Ø¯Ø§Ù… Configuration Object

```dart
final config = ApiErrorMonitorConfig(
  appName: "MyApp",
  discordWebhookUrl: "https://discord.com/api/webhooks/xxxx",
  enableInDebugMode: false,
  enableLocalLogging: true,
  maxRetries: 3,
  retryDelay: Duration(seconds: 5),
  enabled: true,
);

final errorMonitor = ApiErrorMonitor.fromConfig(config);
```

---

## ğŸ“Š Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ ØªÙ‚Ø±ÙŠØ± Discord

Ø¹Ù†Ø¯ Ø­Ø¯ÙˆØ« Ø®Ø·Ø£ØŒ Ø³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ ØªÙ‚Ø±ÙŠØ± Ù…Ù†Ø¸Ù… Ø¹Ù„Ù‰ Discord Ù…Ø«Ù„:

```
ğŸ”´ Type Mismatch Error

App Name: E-Commerce App
Endpoint: https://fakestoreapi.com/products

ğŸ”‘ Field Name: price
âŒ Current Type: String
âœ… Expected Type: double

Error Details:
type 'String' is not a subtype of type 'double' in type cast

Timestamp: 2025-11-12T14:34:02.367671
```

---

## ğŸ”§ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©

### 1. Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø­Ù„ÙŠØ©

```dart
// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ù…Ø­Ù„ÙŠØ§Ù‹
final reports = await errorMonitor.getLocalReports();

for (final report in reports) {
  print('Error: ${report.errorMessage}');
  print('Endpoint: ${report.endpoint}');
  print('Key: ${report.key}');
  print('Expected: ${report.expectedType}');
  print('Received: ${report.receivedType}');
}
```

### 2. Ù…Ø³Ø­ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø­Ù„ÙŠØ©

```dart
// Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
await errorMonitor.clearLocalReports();
```

### 3. Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø³Ø§Ø± Ù…Ø¬Ù„Ø¯ Ø§Ù„ØªØ³Ø¬ÙŠÙ„

```dart
final logPath = errorMonitor.getLocalLogDirectoryPath();
print('Logs stored at: $logPath');
```

### 4. Ø¥Ø¯Ø§Ø±Ø© Queue (Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±)

```dart
// Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¹Ù„Ù‚Ø© (Ø¹Ù†Ø¯ ØªÙˆÙØ± Ø§Ù„Ø§ØªØµØ§Ù„)
await errorMonitor.processQueue();

// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø¬Ù… Queue
final queueSize = errorMonitor.queueSize;

// Ù…Ø³Ø­ Queue
errorMonitor.clearQueue();
```

---

## ğŸ¯ Ù…Ø«Ø§Ù„ Ø¹Ù…Ù„ÙŠ ÙƒØ§Ù…Ù„ (MVVM Architecture)

```dart
// 1. Repository Layer
class ProductRepository {
  final Dio dio;
  final String baseUrl = 'https://fakestoreapi.com';

  ProductRepository({required this.dio});

  Future<List<ProductModel>> getAllProducts() async {
    final response = await dio.get('/products');
    final List<dynamic> data = response.data as List;
    return data
        .map((json) => ProductModel.fromJson(json as Map<String, dynamic>))
        .toList();
  }
}

// 2. ViewModel Layer
class ProductViewModel extends ChangeNotifier {
  final ProductRepository repository;
  final ApiErrorMonitor errorMonitor;

  List<ProductModel> _products = [];
  bool _isLoading = false;
  String? _error;

  ProductViewModel({
    required this.repository,
    required this.errorMonitor,
  });

  Future<void> fetchAllProducts() async {
    _isLoading = true;
    _error = null;
    notifyListeners();

    try {
      _products = await repository.getAllProducts();
      _error = null;
    } catch (e, stackTrace) {
      _error = 'Failed to load products';

      // Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„Ø®Ø·Ø£ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
      errorMonitor.capture(
        e,
        stackTrace: stackTrace,
        endpoint: 'https://fakestoreapi.com/products',
      );
    } finally {
      _isLoading = false;
      notifyListeners();
    }
  }
}

// 3. Main App Setup
void main() {
  // ØªÙ‡ÙŠØ¦Ø© Error Monitor
  final errorMonitor = ApiErrorMonitor(
    appName: 'Product Store App',
    discordWebhookUrl: 'YOUR_DISCORD_WEBHOOK_URL',
    enableLocalLogging: true,
  );

  // ØªÙ‡ÙŠØ¦Ø© Dio
  final dio = Dio(BaseOptions(
    baseUrl: 'https://fakestoreapi.com',
  ));
  dio.addApiErrorMonitoring(errorMonitor: errorMonitor);

  // ØªÙ‡ÙŠØ¦Ø© Repository Ùˆ ViewModel
  final repository = ProductRepository(dio: dio);
  final viewModel = ProductViewModel(
    repository: repository,
    errorMonitor: errorMonitor,
  );

  runApp(MyApp(viewModel: viewModel));
}
```

---

## ğŸ”— Ø¥Ø¹Ø¯Ø§Ø¯ Discord Webhook

### Ø§Ù„Ø®Ø·ÙˆØ§Øª:

1. Ø§ÙØªØ­ Discord Server Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
2. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ **Server Settings** â†’ **Integrations** â†’ **Webhooks**
3. Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ **New Webhook**
4. Ø§Ø®ØªØ± Ø§Ù„Ù‚Ù†Ø§Ø© Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø¹Ù„ÙŠÙ‡Ø§
5. Ø§Ù†Ø³Ø® Ø§Ù„Ù€ Webhook URL
6. Ø§Ø³ØªØ®Ø¯Ù…Ù‡ ÙÙŠ `ApiErrorMonitor`

**Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Webhook URL:**

```
https://discord.com/api/webhooks/1234567890/abcdefghijklmnopqrstuvwxyz
```

âš ï¸ **Ù…Ù„Ø§Ø­Ø¸Ø© Ù…Ù‡Ù…Ø©**: Ø§Ù„Ù€ Channel URL (`https://discord.com/channels/...`) **Ù„ÙŠØ³** Webhook URL!

---

## ğŸ“± Ø¯Ø¹Ù… Ø§Ù„Ù…Ù†ØµØ§Øª

âœ… **Android** - ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ÙƒØ§Ù…Ù„ ÙÙŠ Debug Ùˆ Release Mode
âœ… **iOS** - ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ÙƒØ§Ù…Ù„ ÙÙŠ Debug Ùˆ Release Mode
âœ… **Web** - ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ÙƒØ§Ù…Ù„
âœ… **Desktop** - ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ÙƒØ§Ù…Ù„

---

## ğŸ¨ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…ÙƒØªØ´ÙØ©

Ø§Ù„Ø¨Ø§ÙƒØ¯Ø¬ ÙŠÙƒØªØ´Ù ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹:

1. **Type Mismatch**: `type 'String' is not a subtype of type 'int'`
2. **Missing Key**: `key not found: "keyName"`
3. **Null Value**: `type 'null' is not a subtype of type 'String'`
4. **Cast Error**: `type 'X' is not a subtype of type 'Y' in type cast`
5. **JSON Path Errors**: Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ù…Ø³Ø§Ø± JSON

---

## ğŸ’¡ Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª

1. âœ… **Ø§Ø³ØªØ®Ø¯Ù… ÙÙŠ Production**: Ø¹Ø·Ù‘Ù„ Error Reporting ÙÙŠ Debug Mode Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ù€ Spam
2. âœ… **Ø±Ø§Ù‚Ø¨ Queue Size**: ØªØ­Ù‚Ù‚ Ø¨Ø§Ù†ØªØ¸Ø§Ù… Ù…Ù† Ø­Ø¬Ù… Queue ÙˆÙ‚Ù… Ø¨Ù…Ø¹Ø§Ù„Ø¬ØªÙ‡Ø§
3. âœ… **Ø§Ù…Ø³Ø­ Ø§Ù„Ù€ Logs Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©**: Ø§Ø­Ø°Ù Ø§Ù„Ù€ Logs Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ø¨Ø§Ù†ØªØ¸Ø§Ù… Ù„ØªÙˆÙÙŠØ± Ø§Ù„Ù…Ø³Ø§Ø­Ø©
4. âœ… **Ø£Ù…Ø§Ù† Webhook**: Ø§Ø­ØªÙØ¸ Ø¨Ù€ Discord Webhook URL Ø¢Ù…Ù†Ø§Ù‹
5. âœ… **Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡**: ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ Ø­ØªÙ‰ Ù…Ø¹ ÙˆØ¬ÙˆØ¯ Monitoring

---

## ğŸ“š Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£Ù…Ø«Ù„Ø©

Ø±Ø§Ø¬Ø¹ Ù…Ø¬Ù„Ø¯ `/example` ÙÙŠ Ø§Ù„Ù€ Repository Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø«Ø§Ù„ ÙƒØ§Ù…Ù„ Ù…Ø¹:

- MVVM Architecture
- Repository Pattern
- State Management
- UI Components

---

## ğŸ”— Ø§Ù„Ø±ÙˆØ§Ø¨Ø·

- ğŸ“¦ **Pub.dev**: https://pub.dev/packages/api_error_monitor
- ğŸ’» **GitHub**: https://github.com/AhmedSlman/api_error_monitor
- ğŸ“ **Documentation**: Ù…ØªÙˆÙØ± ÙÙŠ README.md

---

## ğŸ‰ Ø§Ù„Ø®Ù„Ø§ØµØ©

**API Error Monitor** Ù‡ÙŠ Ø§Ù„Ø­Ù„ Ø§Ù„Ø£Ù…Ø«Ù„ Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø£Ø®Ø·Ø§Ø¡ API ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ÙÙŠ ØªØ·Ø¨ÙŠÙ‚Ø§Øª Flutter/Dart. Ù…Ø¹ Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ù€ Dio Ùˆ HTTP PackageØŒ ÙˆØªÙƒØ§Ù…Ù„ Ø³Ù„Ø³ Ù…Ø¹ DiscordØŒ ÙˆØ¢Ù„ÙŠØ© Ø¥Ø¹Ø§Ø¯Ø© Ù…Ø­Ø§ÙˆÙ„Ø© Ø°ÙƒÙŠØ© - Ø£ØµØ¨Ø­ Ù…Ù† Ø§Ù„Ø³Ù‡Ù„ Ø¬Ø¯Ø§Ù‹ ØªØªØ¨Ø¹ ÙˆØ­Ù„ Ù…Ø´Ø§ÙƒÙ„ Type Mismatch ÙÙŠ ØªØ·Ø¨ÙŠÙ‚Ø§ØªÙƒ!

Ø¬Ø±Ø¨Ù‡Ø§ Ø§Ù„Ø¢Ù† ÙˆØ´Ø§Ø±ÙƒÙ†Ø§ ØªØ¬Ø±Ø¨ØªÙƒ! ğŸš€

---

#Flutter #Dart #API #ErrorMonitoring #Discord #MobileDevelopment #Programming #SoftwareDevelopment
